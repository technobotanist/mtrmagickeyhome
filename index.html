<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <title>Lily Dissection • A-Frame</title>
  <meta name="description" content="Lily Dissection • A-Frame">
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://unpkg.com/super-hands/dist/super-hands.min.js"></script>
  <script src="https://unpkg.com/aframe-event-set-component@^4.0.0/dist/aframe-event-set-component.min.js"></script>  
  <script src="https://unpkg.com/aframe-physics-extras/dist/aframe-physics-extras.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script>
  <script type="module">
    import "./GreenSockThree.js";
  </script>
  <script src="./ExaminationBox.js"></script>
  <script src="./Examinable.js"></script>
</head>
<body>
  

<a-scene 
      background="color: #212"
      webxr="referenceSpaceType: local"
      environment
      cursor="rayOrigin: mouse; fuse: false" raycaster="objects: .raycastable"
      event-set__click="_event:click;"
         >
  <a-assets>
    
    <a-asset-item id="table" src="https://cdn.glitch.com/9e3ddbc0-bfb3-4240-8716-a793e4bd6483%2FTableOpen.glb?v=1616683384876"></a-asset-item>
    <a-asset-item id="containerBox" src="https://cdn.glitch.com/9e3ddbc0-bfb3-4240-8716-a793e4bd6483%2Fscene.gltf?v=1615220299205"></a-asset-item>
    <a-asset-item id="lilyhemisphere"
      src="https://cdn.glitch.com/3352fbd4-6698-4bc9-b59c-f1399bb316e5%2FLily_Full_Half.gltf?v=1615965211555"
      response-type="arraybuffer" crossorigin="anonymous"></a-asset-item>
  </a-assets>
  
  <a-entity
        id="background"
        position="0 0 0"
        geometry="primitive: sphere; radius: 2.0"
        material="color: red; side: back; shader: flat"
        scale="0.001 0.001 0.001"
        visible="false" class="raycastable">
      </a-entity>
  
  <a-entity position="0 1.6 -0.8">
    <a-entity camera look-controls
              raycaster="objects: .dissect; direction: -24 -3 0;" cursor="rayOrigin:mouse"
              static-body="shape: sphere; sphereRadius: 0.001"
              super-hands="colliderEvent: raycaster-intersection;
                             colliderEventProperty: els;
                             colliderEndEvent:raycaster-intersection-cleared;
                             colliderEndEventProperty: clearedEls;">
        <a-entity
          id="fadeBackground"
          geometry="primitive: sphere; radius: 2.5"
          material="color: black; side: back; shader: flat; transparent: true; opacity: 0.6" visible="false">
        </a-entity>
      </a-entity> 
  </a-entity>
  

    <a-entity id="specimin" class= "collidable" geometry="primitive: box" position="0 2 2" scale="0.1 0.1 0.1" hoverable grabbable stretchable draggable droppable
                 shadow examinable
              event-set__dragdrop="_event: drag-drop"
                 event-set__hoveron="_event: hover-start;"
                 event-set__click="_event: click;"
                 event-set__hoveroff="_event: hover-end; scale: 1.0 1.0 1.0"
                 event-set__dragon="_event: dragover-start"
                 event-set__dragoff="_event: dragover-end">
      <a-animation begin="hover-start" easing="ease-in" attribute="scale"
             from="1 1 1" to="1.2 1.2 1.2" dur="50"></a-animation>
      <a-animation begin="hover-end" easing="ease-in" attribute="scale"
             from="1.2 1.2 1.2" to="1 1 1" dur="50"></a-animation>
    </a-entity>

  <a-plane id="proto-callout" height="50" width="1">
    <a-entity text="value: Hello World;"></a-entity>
    
  </a-plane>
  
  <a-entity gltf-model="#table" position="0 0 4" rotation="0 90 0"></a-entity>
  
  <a-entity id="ExamBox" gltf-model="#containerBox" position="1.355 1.629 3.76" rotation="0 11.705 0" scale="0.4 0.4 0.4" exambox="snapedRotation: 45 0 0; snapedScale: 0.8 0.8 0.8; snapedOffset:0 1 0" >
    <a-entity id="castPoint" position="0 1.68 0"></a-entity>
  </a-entity>
  
</a-scene>
</body>