<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <title>Lily Dissection • A-Frame</title>
  <meta name="description" content="Lily Dissection • A-Frame">
  
<!--   This is a series of components and plugins used -->
<!-- AFrame webXR Library   -->
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
<!-- Superhands allows drag and rotation function -->
<script src="./superhands.js"></script>  
<!--Environment Component  -->
  <script src="./environment-component.js"></script>
<!--Buttons and other event system uses event-set component and proxy events -->
  <script src="./eventset.js"></script> 
  <script src="./proxy-event.js"></script>
<!--   Physics isn't used in a major way but is loaded in to support development -->
  <script src="./aframeextras.js'"></script>
<!-- GSAP (GreenSock Animation Platform) for animation addons like tweening -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script>
  <script type="module">
    import "./GreenSockThree.js";
  </script>
  
<!--   The layout of buttons utilizes layout component and text positioning uses look-at-->
<script src="./layout.js"></script> 
    <script src="./lookat.js"></script> 
  
<!--   unique examination box components -->
  <script src="./Rotatable.js"></script>
  <script src="./ScaleButton.js"></script>

  
  <script src="./linkhref.js"></script>
<script src="./info-message.js"></script>

</head>
<body>
  
<a-scene 
      webxr="referenceSpaceType: local"
      cursor="rayOrigin: mouse; fuse: false" raycaster="objects: .raycastable"
      event-set__click="_event:click;"
      info-message="htmlSrc: #messageText"
      
         >
  
<!-- Media assets used throughout experience    -->
  <a-assets>

    <a-asset-item id="magickeytitlingfont" src="https://cdn.glitch.com/5403985f-c618-4935-8236-9feef6f16844%2FMagicKeyTitlingFont.ttf?v=1624219939229"></a-asset-item>
    <a-asset-item id="magickey" src="https://cdn.glitch.com/5403985f-c618-4935-8236-9feef6f16844%2FMTRMagicKeyTrueOrigin.gltf?v=1624219992990" preload="auto"></a-asset-item>


    
<!--     This html document feeds the 'info' popup in the corner, it can have images and links embedded -->
            <a-asset-item id="messageText" src="message.html"></a-asset-item>


<!-- Sounds used within the interaction system-->
<a-sound id="click1" src="https://cdn.glitch.com/9e3ddbc0-bfb3-4240-8716-a793e4bd6483%2Fclick1dry.mp3?v=1620252061034"></a-sound>
<a-sound id="click2" src="https://cdn.glitch.com/9e3ddbc0-bfb3-4240-8716-a793e4bd6483%2Fclick2dry.mp3?v=1620252061033"></a-sound>
<a-sound id="click3" src="https://cdn.glitch.com/9e3ddbc0-bfb3-4240-8716-a793e4bd6483%2Fclick3dry.mp3?v=1620252061083"></a-sound>
<a-sound id="clickyes" src="https://cdn.glitch.com/9e3ddbc0-bfb3-4240-8716-a793e4bd6483%2FclickYesdry.mp3?v=1620252061034"></a-sound>  
<a-sound id="clickno" src="https://cdn.glitch.com/9e3ddbc0-bfb3-4240-8716-a793e4bd6483%2FclickNodry.mp3?v=1620252061144"></a-sound>    
  </a-assets>

<!-- At the minimum we'd also want to setup an environment light, although we might also need to explore background options -->
<a-sky id="sky" phi-start="45" src=""></a-sky>
  <a-light id="sun" angle="60" color="#FFF" intensity="0.4" type="hemisphere"></a-light>

         
<!-- Camera rig serves as user perspective. User cannot pivot camera and raycast emits from this view-->
  <a-entity id="rig" position="0 1.55 0.115" rotation="0 -19.1 0" >
    <a-entity camera
              look-controls="mouseEnabled: false"
              position="-0.11 0 -0.66"
              rotation="0 -23.4 0"
              raycaster="objects: .dissect; direction: -24 -3 0;" 
              cursor="rayOrigin:mouse"
              static-body="shape: sphere; sphereRadius: 0.001"
              super-hands="colliderEvent: raycaster-intersection;
                             colliderEventProperty: els;
                             colliderEndEvent:raycaster-intersection-cleared;
                             colliderEndEventProperty: clearedEls;">
<!--         <a-entity
          id="fadeBackground"
          geometry="primitive: sphere; radius: 2.5"
          material="color: black; side: back; shader: flat; transparent: true; opacity: 0.6" visible="false">
        </a-entity> -->
      </a-entity> </a-entity> 
    

 
     
      <!-- Hand controls are defined to get raycast capability to allow button interaction while using them -->
      <a-entity id="leftHand" laser-controls="hand: left" raycaster="objects: .raycastable"></a-entity>
      <a-entity id="rightHand" laser-controls="hand: right" raycaster="objects: .raycastable" line="color: #118A7E"></a-entity>


</a-scene>
</body>